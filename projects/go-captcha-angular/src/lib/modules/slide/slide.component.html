<div
  class="go-captcha gc-wrapper"
  [class]="{'gc-theme': localConfig.showTheme}"
  [style]="{
    width:  (localConfig.width || 0) + ( localConfig.horizontalPadding * 2) + (localConfig.showTheme ? 2 : 0) + 'px',
    paddingLeft: localConfig.horizontalPadding + 'px',
    paddingRight: localConfig.horizontalPadding + 'px',
    paddingTop: localConfig.verticalPadding + 'px',
    paddingBottom: localConfig.verticalPadding + 'px',
    display: hasDisplayWrapperState ? 'block' : 'none'
  }"
  #rootRef
>
  <div class="gc-header">
    <span>{{ localConfig.title }}</span>
    <div class="gc-icon-block">
      <close-icon
        [width]="localConfig.iconSize"
        [height]="localConfig.iconSize"
        (click)="closeEvent($event)"
      ></close-icon>
      <refresh-icon
        [width]="localConfig.iconSize"
        [height]="localConfig.iconSize"
        (click)="refreshEvent($event)"
      ></refresh-icon>
    </div>
  </div>
  <div
    class="gc-body"
    #containerRef
    [style]="{
      width: localConfig.width + 'px',
      height: localConfig.height + 'px'
    }"
  >
    <div class="gc-loading">
      <loading-icon></loading-icon>
    </div>
    <img
      class="gc-picture"
      [class]="{'gc-hide': localData.image == ''}"
      [style]="{display: hasDisplayImageState ? 'block' : 'none'}"
      [attr.src]="localData.image"
      alt=""
    />
    <div
      class="gc-tile"
      #tileRef
      [style]="{
        width: localData.thumbWidth + 'px',
        height: localData.thumbHeight + 'px',
        top: localData.thumbY + 'px',
        left: state.thumbLeft + 'px'
      }"
    >
      <img
        [class]="{'gc-hide': localData.thumb == ''}"
        [attr.src]="localData.thumb"
        [style]="{display: hasDisplayImageState ? 'block' : 'none'}"
        alt=""
      />
    </div>
  </div>
  <div class="gc-footer">
    <div class="gc-drag-slide-bar" #dragBarRef>
      <div class="gc-drag-line"></div>
      <div
        class="gc-drag-block"
        #dragBlockRef
        (mousedown)="dragEvent($event)"
        [style]="{left: state.dragLeft + 'px'}"
        [class]="{'disabled': !hasDisplayImageState}"
      >
        <div class="drag-block-inline" (touchstart)="dragEvent($event)">
          <arrows-icon></arrows-icon>
        </div>
      </div>
    </div>
  </div>
</div>